
(function(b){b.fn.appear=function(e,a){var f=b.extend({data:undefined,one:true,accX:0,accY:0},a);return this.each(function(){var d=b(this);d.appeared=false;if(!e){d.trigger("appear",f.data);return}var i=b(window);var j=function(){if(!d.is(":visible")){d.appeared=false;return}var g=i.scrollLeft();var h=i.scrollTop();var w=d.offset();var B=w.left;var o=w.top;var z=f.accX;var A=f.accY;var x=d.height();var y=i.height();var u=d.width();var v=i.width();if(o+x+A>=h&&o<=h+y+A&&B+u+z>=g&&B<=g+v+z){if(!d.appeared){d.trigger("appear",f.data)}}else{d.appeared=false}};var c=function(){d.appeared=true;if(f.one){i.unbind("scroll",j);var g=b.inArray(j,b.fn.appear.checks);if(g>=0){b.fn.appear.checks.splice(g,1)}}e.apply(this,arguments)};if(f.one){d.one("appear",f.data,c)}else{d.bind("appear",f.data,c)}i.scroll(j);b.fn.appear.checks.push(j);(j)()})};b.extend(b.fn.appear,{checks:[],timeout:null,checkAll:function(){var a=b.fn.appear.checks.length;if(a>0){while(a--){(b.fn.appear.checks[a])()}}},run:function(){if(b.fn.appear.timeout){clearTimeout(b.fn.appear.timeout)}b.fn.appear.timeout=setTimeout(b.fn.appear.checkAll,20)}});b.each(["append","prepend","after","before","attr","removeAttr","addClass","removeClass","toggleClass","remove","css","show","hide"],function(f,e){var a=b.fn[e];if(a){b.fn[e]=function(){var c=a.apply(this,arguments);b.fn.appear.run();return c}}})})(jQuery);(function(a){a(document).ready(function(){a(window).scroll(function(){if(a(this).scrollTop()>=200){a("#ut-tool-bar").addClass("show")}else{a("#ut-tool-bar").removeClass("show")}});a(".ut-admin-main").css("min-height",a(".ut-backend-navigation-wrap").outerHeight());function v(z,y){if(!z||!y){return}if(z.type==="image"){if(a("#"+y+"_preview_icon").length){a("#"+y+"_preview_icon").remove()}if(a("#"+y+"_preview").length){a("#"+y+"_preview").attr("src",z.url)}else{a("<img />",{id:y+"_preview",src:z.url,"class":"ut-image-preview"}).insertAfter("#"+y)}}else{if(z.type==="video"){if(a("#"+y+"_preview").length){a("#"+y+"_preview").remove()}if(a("#"+y+"_preview_icon").length){a("#"+y+"_preview_icon").attr("class","").attr("class","fa fa-file-video-o")}else{a("<i />",{id:y+"_preview_icon","class":"fa fa-file-video-o"}).insertAfter("#"+y)}}else{if(z.type==="text"){if(a("#"+y+"_preview").length){a("#"+y+"_preview").remove()}if(a("#"+y+"_preview_icon").length){a("#"+y+"_preview_icon").attr("class","").attr("class","fa fa-file-text")}else{a("<i />",{id:y+"_preview_icon","class":"fa fa-file-text"}).insertAfter("#"+y)}}else{if(a("#"+y+"_preview").length){a("#"+y+"_preview").remove()}if(a("#"+y+"_preview_icon").length){a("#"+y+"_preview_icon").attr("class","").attr("class","fa fa-file")}else{a("<i />",{id:y+"_preview_icon","class":"fa fa-file"}).insertAfter("#"+y)}}}}}var g=false,c="",f="",i=true;a(document).on("click",".ut-upload-media",function(y){y.preventDefault();c=a(this).data("title");f=a(this).data("field");i=a(this).attr("data-preview");if(g){g.open();return}g=wp.media.frames.file_frame=wp.media({title:c,button:{text:c},multiple:false,library:{type:a(this).data("mime")}});g.on("select",function(){var A=g.state().get("selection").first().toJSON(),z=/^image\/(?:jpe?g|png|gif|ico)$/i;if(i==="true"){v(A,f)}a("#"+f).val(A.url)});g.open()});a(document).on("click",".ut-delete-media",function(y){y.preventDefault();var z=a(this).data("field");a("#"+z).val("");if(a("#"+z+"_preview").length){a("#"+z+"_preview").fadeOut(800,function(){a(this).remove()})}});function d(y){if(!y.hasClass("ut-color-picker")){return}var z=y.data("mode");if(z==="rgb"){y.minicolors({format:z,opacity:true,})}else{y.minicolors({format:z,letterCase:"uppercase",})}}a(".ut-color-picker").appear(function(){d(a(this))});a(".ut-ace-editor").each(function(){var z=a(this),C=z.attr("id"),y=z.data("id"),B=ace.edit(C),A=z.data("mode");B.setTheme("ace/theme/tomorrow");B.getSession().setMode("ace/mode/"+A);B.setShowPrintMargin(false);B.on("change",function(){a("#"+y).val(B.getSession().getValue());B.resize()})});function n(y){if(!y){return}a(".ut-admin-header-title").html(y)}function e(){a(".ut-backend-main-navigation-submenu").each(function(){if(!a(this).parent().hasClass("ut-current")){a(this).slideUp("fast")}else{a(this).slideDown("fast")}})}function h(y){if(!y){return}a.ajax({type:"POST",url:ajaxurl,data:{action:"load_settings_section",section_id:y},success:function(z){}})}function o(y){if(!y){return}a(".ut-admin-panel-group").removeClass("ut-show");a("#"+y).addClass("ut-show");u(y)}var q=a(".ut-backend-main-navigation");function w(y,z){if(y===1){a(".ut-breadcrumb .level-2").hide();a(".ut-breadcrumb .level-3").hide()}else{if(y===2){a(".ut-breadcrumb .level-2").fadeIn();a(".ut-breadcrumb .level-1").text(q.find(".ut-current a").data("title"))}else{a(".ut-breadcrumb .level-3").fadeIn();a(".ut-breadcrumb .level-2").fadeIn();a(".ut-breadcrumb .level-1").text(q.find(".ut-current a").data("title"))}}a(".ut-breadcrumb .level-"+y).text(z)}function u(y){if(!y){return}var A=a(".ut-backend-main-navigation"),z=A.find("[data-panel='"+y+"']");a(".ut-current").removeClass("ut-current");z.parent().addClass("ut-current");if(z.closest("ul").hasClass("ut-backend-main-navigation-submenu")){z.closest("ul").parent().addClass("ut-current")}e();if(z.data("title")){n(z.data("title"))}w(z.data("lvl"),z.data("title"))}var t=a(".ut-admin-wrap").data("cookiekey");a(".ut-backend-main-navigation a").click(function(z){z.preventDefault();var A=a(this),y=A.data("panel");if(A.data("")===""){}o(y);if(A.data("panel")){a.cookie(t,A.data("panel"),{expires:1})}});if(a.cookie(t)&&t&&a("#"+a.cookie(t)).length){o(a.cookie(t))}else{o(a(".ut-menu-fallback-item").data("panel"))}a(".ut-open-panel-tab").click(function(){a('[data-panel="'+a(this).data("openpanel")+'"]').trigger("click")});function l(y){if(!y.hasClass("ui-accordion")){y.accordion({collapsible:true,active:false,icons:false,animate:false,heightStyle:"content",beforeActivate:function(z,A){a(this).addClass("closed")},activate:function(z,A){if(a(this).hasClass("closed")){a(this).removeClass("closed")}else{a(this).addClass("closed")}}}).accordion({active:0});y.find(".ut-option-element").each(function(){d(a(this))})}}a(".ut-repeat-group").not(".ut-to-copy").each(function(){a(this).accordion({collapsible:true,icons:false,active:false,animate:false,heightStyle:"content",activate:function(y,z){if(a(this).hasClass("closed")){a(this).removeClass("closed")}else{a(this).addClass("closed")}}})});a(".ut-do-copy").click(function(A){A.preventDefault();var B=a(this).parent();var z=B.find(".ut-to-copy");var y=z.clone().appendTo(a(this).prev(".ut-repeat-group-loop")).removeClass("ut-to-copy").removeClass("ut-hide").find(".ut-group-item-to-copy").removeClass("ut-group-item-to-copy").end();l(y);z.find(".ut-option-element").each(function(){if(a(this).attr("name")!==undefined){a(this).attr("name",a(this).attr("name").replace(/\[(\d+)\]/,function(D,C){return"["+(+C+1)+"]"}))}if(a(this).attr("id")!==undefined){a(this).attr("id",a(this).attr("id").replace(/\_(\d+)/,function(D,C){return"_"+(+C+1)}))}if(a(this).attr("data-field")!==undefined){a(this).attr("data-field",a(this).attr("data-field").replace(/\_(\d+)/,function(D,C){return"_"+(+C+1)}))}})});a(".unite-tooltip a").tooltipster({theme:"unite-tooltipster"});a(document).on("click",".ut-info-button",function(y){y.preventDefault()});a(document).on("click",".ut-delete-group",function(y){a(this).closest(".ut-repeat-group").remove();y.preventDefault()});a(".ut-repeat-group").each(function(){var z=a(this),y=z.find(".ut-admin-panel-header-title").first();y.text(z.find(".ut-admin-panel-content").first().find("input").first().val())});a(document).on("input propertychange",".ut-repeat-group .ut-group-item-title input",function(){a(this).closest(".ut-repeat-group").find("h3").first().text(a(this).val())});a(".ut-icon-select").each(function(){a(this).fontIconPicker({theme:"fip-inverted",iconsPerPage:50})});a(".ut-range-slider").each(function(){a(this).slider({min:a(this).data("min"),max:a(this).data("max"),step:a(this).data("step"),value:a(this).data("value"),slide:function(y,z){a(this).parent().find(".ut-option-element").val(z.value);a(this).parent().find(".ut-range-value").text(z.value)}})});a(".ut-grid-slider").each(function(){var A=a(this).data("gridsizes"),A=A.split(","),z=a(this).data("value"),y=1;a.each(A,function(B,C){if(z===C){y=B}});a(this).slider({animate:"slow",range:"min",min:0,max:A.length-1,step:1,value:y,slide:function(C,D){var B=A[D.value].split(":");a("#"+a(this).data("id")+"-preview").find(".ut-grid-preview-left").attr("class","").addClass("grid-"+B[0]+" ut-grid-preview-left").find("span").text(B[0]);a("#"+a(this).data("id")+"-preview").find(".ut-grid-preview-right").attr("class","").addClass("grid-"+B[1]+" ut-grid-preview-right").find("span").text(B[1]);a("#"+a(this).data("id")).val(A[D.value])}})});function r(A,y){var z=y.replace("regular","400");z=z.split(",");if(a.inArray(a("#"+A+"-font-weight").val(),z)===-1){a("#"+A+"-font-weight").prop("selectedIndex",0)}a("#"+A+"-font-weight option").each(function(){if(a.inArray(a(this).val(),z)>=0||!a(this).val()){a(this).attr("disabled",false)}else{a(this).attr("disabled",true)}})}function p(z,y){var y=y.split(",")}function x(A){if(!A){return}var z=a("#"+A+"-family"),y=z.find(":selected").data("variants");if(y!==undefined){p(A,y);r(A,y)}}a(".ut-font-select").each(function(){var y=a(this).data("group");if(y!==undefined){x(y)}});a(".ut-font-select").change(function(){var y=a(this).data("group");if(y!==undefined){x(y)}});a(".ut-sortable-list").each(function(){a(this).sortable({placeholder:"ut-sortable-placeholder",handle:".ut-sortable-handle"})});function m(y){var z=y.data("value").split(",");y.dependsOn({dependency:{values:z}})}function j(y){var z=y.data("value").split(",");y.dependsOn({dependency:{values:z}})}function b(y){y.dependsOn({dependency:{checked:true}})}function k(y){y.dependsOn({dependency:{checked:true}})}function s(){a("[data-dependency]").each(function(){var y=a(this);if(y.hasClass("ut-dependency-loaded")||y.parent().hasClass("ut-group-item-to-copy")){return true}if(a("[name*="+y.data("dependency")+"]").closest(".ut-admin-panel-content").data("dependency")){a("[name*="+y.data("dependency")+"]").closest(".ut-admin-panel-content").addClass("ut-has-subdependency")}switch(a("#"+y.data("dependency")).closest(".ut-admin-panel-content").data("optiontype")){case"switch":k(y);break;case"select":m(y);break;case"radio":j(y);break;case"checkbox":b(y);break}y.addClass("ut-dependency-loaded")})}s();a(document).on("click",".ut-breadcrumb a",function(y){y.preventDefault()});a(document).on("click",".ut-manage-layouts, .ut-close-manage-layouts",function(y){a(".unite-layout-manager").slideToggle();y.preventDefault()});a(".ut-tag-suggest").each(function(){var y=a(this);y.tagEditor({autocomplete:{source:unite_all_tags}})});a(document).on("click",".unite-health-status .notice-dismiss",function(y){a.ajax({url:ajaxurl,data:{action:"hide_health_notification"}});y.preventDefault()})})})(jQuery);